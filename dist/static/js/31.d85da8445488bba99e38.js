webpackJsonp([31],{130:function(t,e,o){o(870);var s=o(16)(o(518),o(930),null,null);t.exports=s.exports},196:function(t,e,o){"use strict";e.a={created:function(){this.uuid=Math.random().toString(36).substring(3,8)}}},251:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(256),n=o.n(s),r=o(258),i=o.n(r),a=o(196);e.default={mixins:[a.a],mounted:function(){var t=this;this.$nextTick(function(){setTimeout(function(){var e=t,o="vux-ximg-"+t.uuid;t.$el.setAttribute("id",o),t.blazy=new n.a({scroller:t.scroller,container:t.container,selector:"#"+o,offset:e.offset,errorClass:e.errorClass,successClass:e.successClass,success:function(t){e.$emit("on-success",e.src,t)},error:function(t,o){e.$emit("on-error",e.src,t,o)}})},t.delay)})},computed:{currentSrc:function(){return i()()&&this.webpSrc?this.webpSrc:this.src}},props:{src:String,webpSrc:String,defaultSrc:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},errorClass:String,successClass:String,offset:{type:Number,defaut:100},scroller:Object,container:String,delay:{type:Number,default:100}},beforeDestroy:function(){this.blazy&&this.blazy.destroy()}}},252:function(t,e,o){e=t.exports=o(122)(),e.push([t.i,".b-lazy{-webkit-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out;max-width:100%;opacity:0}.b-lazy.b-loaded{opacity:1}","",{version:3,sources:["E:/User/Documents/Projects/vux-weixin/node_modules/vux/src/components/x-img/index.vue"],names:[],mappings:"AACA,QACE,2CAA8C,AAC9C,mCAAsC,AACtC,eAAgB,AAChB,SAAW,CACZ,AACD,iBACE,SAAW,CACZ",file:"index.vue",sourcesContent:["\n.b-lazy {\n  -webkit-transition: opacity 500ms ease-in-out;\n  transition: opacity 500ms ease-in-out;\n  max-width: 100%;\n  opacity: 0;\n}\n.b-lazy.b-loaded {\n  opacity: 1;\n}\n"],sourceRoot:""}])},253:function(t,e,o){var s=o(252);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(123)("78c78956",s,!0)},255:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("img",{staticClass:"vux-x-img",attrs:{src:t.defaultSrc,"data-src":t.currentSrc}})},staticRenderFns:[]}},256:function(t,e,o){var s,n;!function(r,i){s=i,void 0!==(n="function"==typeof s?s.call(e,o,e,t):s)&&(t.exports=n)}(0,function(){"use strict";function t(t){var o=t._util;if(o.elements=u(t.options.selector),o.count=o.elements.length,o.destroyed&&(o.destroyed=!1,t.options.container&&m(t.options.container,function(t){d(t,"scroll",o.validateT)}),d(window,"resize",o.saveViewportOffsetT),d(window,"resize",o.validateT),d(window,"scroll",o.validateT),t.options.scroller)){var s=t.options.scroller._xscroll,n=s.userConfig.useOriginScroll?"scroll":"scrollend";s.on("afterrender",o.validateT,t),s.on(n,o.validateT,t)}e(t)}function e(t){for(var e=t._util,s=0;s<e.count;s++){var n=e.elements[s];(o(n)||c(n,t.options.successClass))&&(t.load(n),e.elements.splice(s,1),e.count--,s--)}0===e.count&&t.destroy()}function o(t){var e=t.getBoundingClientRect();return e.right>=g.left&&e.bottom>=g.top&&e.left<=g.right&&e.top<=g.bottom}function s(t,e,o){if(!c(t,o.successClass)&&(e||o.loadInvisible||t.offsetWidth>0&&t.offsetHeight>0)){var s=t.getAttribute(v)||t.getAttribute(o.src);if(s){var u=s.split(o.separator),f=u[h&&u.length>1?1:0],A=a(t,"img");if(A||void 0===t.src){var g=new Image,C=function(){o.error&&o.error(t,"invalid"),l(t,o.errorClass),p(g,"error",C),p(g,"load",y)},y=function(){if(A){r(t,f),i(t,w,o.srcset);var e=t.parentNode;e&&a(e,"picture")&&m(e.getElementsByTagName("source"),function(t){i(t,w,o.srcset)}),o.scroller&&o.scroller.reset()}else t.style.backgroundImage='url("'+f+'")';n(t,o),p(g,"load",y),p(g,"error",C)};d(g,"error",C),d(g,"load",y),r(g,f)}else r(t,f),n(t,o)}else a(t,"video")?(m(t.getElementsByTagName("source"),function(t){i(t,b,o.src)}),t.load(),n(t,o)):(o.error&&o.error(t,"missing"),l(t,o.errorClass))}}function n(t,e){l(t,e.successClass),e.success&&e.success(t),t.removeAttribute(e.src),m(e.breakpoints,function(e){t.removeAttribute(e.src)})}function r(t,e){t[b]=e}function i(t,e,o){var s=t.getAttribute(o);s&&(t[e]=s,t.removeAttribute(o))}function a(t,e){return t.nodeName.toLowerCase()===e}function c(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function l(t,e){c(t,e)||(t.className+=" "+e)}function u(t){for(var e=[],o=document.querySelectorAll(t),s=o.length;s--;e.unshift(o[s]));return e}function f(t){g.bottom=(window.innerHeight||document.documentElement.clientHeight)+t,g.right=(window.innerWidth||document.documentElement.clientWidth)+t}function d(t,e,o){t.attachEvent?t.attachEvent&&t.attachEvent("on"+e,o):t.addEventListener(e,o,!1)}function p(t,e,o){t.detachEvent?t.detachEvent&&t.detachEvent("on"+e,o):t.removeEventListener(e,o,!1)}function m(t,e){if(t&&e)for(var o=t.length,s=0;s<o&&!1!==e(t[s],s);s++);}function A(t,e,o){var s=0;return function(){var n=+new Date;n-s<e||(s=n,t.apply(o,arguments))}}var v,g,h,b="src",w="srcset";return function(o){if(!document.querySelectorAll){var n=document.createStyleSheet();document.querySelectorAll=function(t,e,o,s,r){for(r=document.all,e=[],t=t.replace(/\[for\b/gi,"[htmlFor").split(","),o=t.length;o--;){for(n.addRule(t[o],"k:v"),s=r.length;s--;)r[s].currentStyle.k&&e.push(r[s]);n.removeRule(0)}return e}}var r=this,i=r._util={};i.elements=[],i.destroyed=!0,r.options=o||{},r.options.error=r.options.error||!1,r.options.offset=r.options.offset||100,r.options.success=r.options.success||!1,r.options.selector=r.options.selector||".b-lazy",r.options.separator=r.options.separator||"|",r.options.container=!!r.options.container&&document.querySelectorAll(r.options.container),r.options.errorClass=r.options.errorClass||"b-error",r.options.breakpoints=r.options.breakpoints||!1,r.options.loadInvisible=r.options.loadInvisible||!1,r.options.successClass=r.options.successClass||"b-loaded",r.options.validateDelay=r.options.validateDelay||25,r.options.saveViewportOffsetDelay=r.options.saveViewportOffsetDelay||50,r.options.srcset=r.options.srcset||"data-srcset",r.options.src=v=r.options.src||"data-src",h=window.devicePixelRatio>1,g={},g.top=0-r.options.offset,g.left=0-r.options.offset,r.revalidate=function(){t(this)},r.load=function(t,e){var o=this.options;void 0===t.length?s(t,e,o):m(t,function(t){s(t,e,o)})},r.destroy=function(){var t=this,e=t._util;t.options.container&&m(t.options.container,function(t){p(t,"scroll",e.validateT)}),p(window,"scroll",e.validateT),p(window,"resize",e.validateT),p(window,"resize",e.saveViewportOffsetT),t.scroller&&t.scroller._xscroll&&t.scroller._xscroll.off("scroll scrollend afterrender",e.validateT,t.scroller._xscroll),e.count=0,e.elements.length=0,e.destroyed=!0},i.validateT=A(function(){e(r)},r.options.validateDelay,r),i.saveViewportOffsetT=A(function(){f(r.options.offset)},r.options.saveViewportOffsetDelay,r),f(r.options.offset),m(r.options.breakpoints,function(t){if(t.width>=window.screen.width)return v=t.src,!1}),setTimeout(function(){t(r)})}})},257:function(t,e,o){o(253);var s=o(16)(o(251),o(255),null,null);t.exports=s.exports},258:function(t,e){var o="can_use_webp";!function(){if(window.localStorage&&"object"==typeof localStorage&&(!localStorage.getItem(o)||"available"!==localStorage.getItem(o)&&"disable"!==localStorage.getItem(o))){var t=document.createElement("img");t.onload=function(){try{localStorage.setItem(o,"available")}catch(t){}},t.onerror=function(){try{localStorage.setItem(o,"disable")}catch(t){}},t.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="}}(),t.exports=function(){return!!window.localStorage&&"available"===window.localStorage.getItem(o)}},518:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(257),n=o.n(s),r=o(18);e.default={head:{title:{inner:"兑换记录"}},data:function(){return{height:"",loading:!1,list:[],form:{userId:0,limit:5,pageIndex:0}}},components:{XImg:n.a},mounted:function(){this.form.userId=JSON.parse(this.$localStorage.get("userInfo")).userId,this.getData(),this.top=1,this.bottom=this.form.pageIndex},created:function(){},methods:{loadMore:function(t){var e=this;if(this.bottom>=30)return void setTimeout(function(){t(!0)},1500);setTimeout(function(){var o=e.bottom+1;console.log(o);for(var s=o;s<o+e.form.limit;s++)e.list.push(s+" - keep walking, be 2 with you.");e.bottom=e.bottom+e.form.limit,setTimeout(function(){t()})},1500)},getData:function(){var t=this;this.$http({method:"jsonp",url:r.v,jsonp:"callback",jsonpCallback:"json",params:this.form,before:function(){t.loading=!0}}).then(function(e){console.log(e),t.list=e.body.data.productList,t.loading=!1})}}}},567:function(t,e,o){e=t.exports=o(122)(),e.push([t.i,".tip img{width:8rem}.tip p{font-size:1.2rem;color:#3c3c3c;margin-top:2rem}","",{version:3,sources:["E:/User/Documents/Projects/vux-weixin/src/views/Exchange.vue"],names:[],mappings:"AACA,SAAS,UAAW,CACnB,AACD,OAAO,iBAAiB,cAAc,eAAgB,CACrD",file:"Exchange.vue",sourcesContent:["\n.tip img{width:8rem;\n}\n.tip p{font-size:1.2rem;color:#3c3c3c;margin-top:2rem;\n}\n"],sourceRoot:""}])},870:function(t,e,o){var s=o(567);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(123)("4460110c",s,!0)},930:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page gray h"},[o("scroller",{ref:"my_scroller",attrs:{"on-infinite":t.loadMore}},[t.list.length>0?o("div",{staticClass:"safe-list white"},t._l(t.list,function(e,s){return o("router-link",{key:s,staticClass:"row w",attrs:{to:"/offer/"+e.id}},[o("span",{staticClass:"col v-m col-9 t-l p-5"},[o("span",{staticClass:"img large"},[o("x-img",{attrs:{src:e.listPic,alt:""}})],1)]),t._v(" "),o("span",{staticClass:"col v-m col-15"},[o("b",{staticClass:"name mb-10"},[t._v(t._s(e.name))]),t._v(" "),o("span",{staticClass:"row w"},[o("span",{staticClass:"col v-m t-l c-red"},[o("span",{staticClass:"num"},[t._v(t._s(e.score))]),t._v("积分")]),t._v(" "),o("span",{staticClass:"col v-m t-r status"},[t._v(t._s(e.status))])])])])})):t._e()]),t._v(" "),0===t.list.length?o("div",{staticClass:"row w h"},[o("div",{staticClass:"col v-m t-c tip"},[o("x-img",{attrs:{src:"static/img/sorry.png",alt:""}}),t._v(" "),o("p",[t._v("没有兑换奖品记录哦！")])],1)]):t._e()],1)},staticRenderFns:[]}}});
//# sourceMappingURL=31.d85da8445488bba99e38.js.map